<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e5e5e5" stroke-width="0.5"/>
    </pattern>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#ccc"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#27ae60"/>
    </marker>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#3498db"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="#fafafa"/>
  <rect width="800" height="400" fill="url(#grid)"/>

  <!-- Title -->
  <text x="40" y="40" font-family="monospace" font-size="14" fill="#333" font-weight="bold">Hackathon Project</text>
  <text x="160" y="40" font-family="monospace" font-size="12" fill="#888">[ SYSTEM ARCHITECTURE ]</text>

  <!-- Client Node -->
  <g transform="translate(80, 200)">
    <circle cx="0" cy="0" r="35" fill="none" stroke="#333" stroke-width="2"/>
    <circle cx="0" cy="0" r="18" fill="#3498db"/>
    <text x="0" y="55" font-family="monospace" font-size="12" fill="#333" text-anchor="middle" font-weight="bold">BROWSER</text>
    <text x="0" y="70" font-family="monospace" font-size="10" fill="#666" text-anchor="middle">Next.js Client</text>
  </g>

  <!-- Cloud Run Container -->
  <g transform="translate(250, 100)">
    <rect x="0" y="0" width="200" height="200" fill="none" stroke="#333" stroke-width="2" rx="4"/>
    <text x="100" y="-10" font-family="monospace" font-size="12" fill="#333" text-anchor="middle" font-weight="bold">GOOGLE CLOUD RUN</text>
    
    <!-- Next.js Server -->
    <rect x="20" y="30" width="160" height="140" fill="#fff" stroke="#666" stroke-width="1" rx="4"/>
    <text x="100" y="50" font-family="monospace" font-size="11" fill="#666" text-anchor="middle">Next.js App Router</text>
    
    <!-- API Route -->
    <rect x="40" y="70" width="120" height="40" fill="#f0f9ff" stroke="#3498db" stroke-width="1"/>
    <text x="100" y="95" font-family="monospace" font-size="10" fill="#3498db" text-anchor="middle">POST /api/analyze</text>
    
    <!-- SSE Handler -->
    <rect x="40" y="120" width="120" height="30" fill="#f0fdf4" stroke="#27ae60" stroke-width="1"/>
    <text x="100" y="140" font-family="monospace" font-size="10" fill="#27ae60" text-anchor="middle">SSE Stream</text>
  </g>

  <!-- Gemini Node -->
  <g transform="translate(600, 150)">
    <polygon points="0,-40 35,-20 35,20 0,40 -35,20 -35,-20" fill="#fff" stroke="#8e44ad" stroke-width="2"/>
    <text x="0" y="5" font-family="monospace" font-size="12" fill="#8e44ad" text-anchor="middle" font-weight="bold">GEMINI 1.5</text>
    <text x="0" y="20" font-family="monospace" font-size="10" fill="#8e44ad" text-anchor="middle">Flash Preview</text>
  </g>

  <!-- Connections -->
  
  <!-- Client -> Cloud Run -->
  <path d="M 120 200 L 240 200" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <text x="180" y="190" font-family="monospace" font-size="10" fill="#666" text-anchor="middle">HTTPS POST</text>

  <!-- Cloud Run -> Gemini -->
  <path d="M 450 200 L 555 200" stroke="#8e44ad" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <text x="500" y="190" font-family="monospace" font-size="10" fill="#8e44ad" text-anchor="middle">GenerateContent</text>

  <!-- Gemini -> Cloud Run (Streaming) -->
  <path d="M 565 220 L 460 220" stroke="#8e44ad" stroke-width="1.5" fill="none" stroke-dasharray="4,4" marker-end="url(#arrow)"/>
  <text x="510" y="235" font-family="monospace" font-size="9" fill="#8e44ad" text-anchor="middle">Streaming Chunks</text>
  
  <!-- Cloud Run -> Client (SSE) -->
  <path d="M 250 240 L 130 240" stroke="#27ae60" stroke-width="2" fill="none" stroke-dasharray="4,4" marker-end="url(#arrowGreen)"/>
  <text x="190" y="255" font-family="monospace" font-size="10" fill="#27ae60" text-anchor="middle">SSE (text, json)</text>

  <!-- Legend/Annotations -->
  <g transform="translate(600, 300)">
    <rect x="0" y="0" width="180" height="80" fill="#fff" stroke="#eee" rx="4"/>
    <text x="10" y="20" font-family="monospace" font-size="10" fill="#999" font-weight="bold">DATA TYPES</text>
    
    <text x="20" y="40" font-family="monospace" font-size="9" fill="#666">• Agent Logs (Thinking)</text>
    <text x="20" y="55" font-family="monospace" font-size="9" fill="#666">• Explanation (MD)</text>
    <text x="20" y="70" font-family="monospace" font-size="9" fill="#666">• Structured (JSON)</text>
  </g>

  <!-- Bottom note -->
  <text x="400" y="380" font-family="monospace" font-size="10" fill="#999" text-anchor="middle">Serverless / Streaming / Structured Output</text>
</svg>