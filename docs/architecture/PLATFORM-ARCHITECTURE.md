# Web Project Template - Platform Architecture

> **arc42æº–æ‹ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ–‡æ›¸**
>
> **æœ€çµ‚æ›´æ–°**: 2026-02-11
> **æ–‡æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Active
> **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´æ™‚ã«åŒæœŸæ›´æ–°

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Web Project Templateã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’arc42ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«åŸºã¥ã„ã¦è¨˜è¿°ã—ã¾ã™ã€‚

---

## ç›®æ¬¡

1. [Introduction and Goalsï¼ˆå°å…¥ã¨ç›®æ¨™ï¼‰](#1-introduction-and-goalså°å…¥ã¨ç›®æ¨™)
2. [Constraintsï¼ˆåˆ¶ç´„ï¼‰](#2-constraintsåˆ¶ç´„)
3. [Context and Scopeï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨å¢ƒç•Œï¼‰](#3-context-and-scopeã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨å¢ƒç•Œ)
4. [Solution Strategyï¼ˆã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥ï¼‰](#4-solution-strategyã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥)
5. [Building Blocks Viewï¼ˆæ§‹æˆè¦ç´ ãƒ“ãƒ¥ãƒ¼ï¼‰](#5-building-blocks-viewæ§‹æˆè¦ç´ ãƒ“ãƒ¥ãƒ¼)
6. [Runtime Viewï¼ˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ“ãƒ¥ãƒ¼ï¼‰](#6-runtime-viewãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ“ãƒ¥ãƒ¼)
7. [Deployment Viewï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ“ãƒ¥ãƒ¼ï¼‰](#7-deployment-viewãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ“ãƒ¥ãƒ¼)
8. [Cross-Cutting Conceptsï¼ˆæ¨ªæ–­çš„é–¢å¿ƒäº‹ï¼‰](#8-cross-cutting-conceptsæ¨ªæ–­çš„é–¢å¿ƒäº‹)
9. [Architecture Decisionsï¼ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šï¼‰](#9-architecture-decisionsã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®š)
10. [Quality Requirementsï¼ˆå“è³ªè¦æ±‚ï¼‰](#10-quality-requirementså“è³ªè¦æ±‚)
11. [Risks and Technical Debtï¼ˆãƒªã‚¹ã‚¯ã¨æŠ€è¡“çš„è² å‚µï¼‰](#11-risks-and-technical-debtãƒªã‚¹ã‚¯ã¨æŠ€è¡“çš„è² å‚µ)
12. [Glossaryï¼ˆç”¨èªé›†ï¼‰](#12-glossaryç”¨èªé›†)

---

## 1. Introduction and Goalsï¼ˆå°å…¥ã¨ç›®æ¨™ï¼‰

### 1.1 Requirements Overview

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: Web Project Template

**æ¦‚è¦**: Next.js/React/TypeScriptã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚Feature-Firstã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã€AIä¸»å°é–‹ç™ºã«æœ€é©åŒ–ã€‚

**ã‚³ã‚¢ãƒãƒªãƒ¥ãƒ¼ãƒ—ãƒ­ãƒã‚¸ã‚·ãƒ§ãƒ³**:

- Feature-Firstæ§‹é€ ã«ã‚ˆã‚‹ä¿å®ˆæ€§ã®é«˜ã„è¨­è¨ˆ
- TypeScriptå³æ ¼ãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã‚‹å‹å®‰å…¨æ€§
- AIä¸»å°é–‹ç™ºã®ãŸã‚ã®æ˜ç¢ºãªè¦ç´„
- æ—¥æœ¬èªå°‚ç”¨UI

**ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: å°è¦æ¨¡ã€œä¸­è¦æ¨¡ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º

### 1.2 Quality Goals

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å“è³ªç›®æ¨™ã‚’å„ªå…ˆåº¦é †ã«è¨˜è¼‰ã—ã¾ã™ã€‚

| å„ªå…ˆåº¦ | å“è³ªå±æ€§                                 | èª¬æ˜                                         | æ¸¬å®šæŒ‡æ¨™                         |
| ------ | ---------------------------------------- | -------------------------------------------- | -------------------------------- |
| 1      | **Maintainabilityï¼ˆä¿å®ˆæ€§ï¼‰**            | AIä¸»å°é–‹ç™ºã§ã®å¤‰æ›´å®¹æ˜“æ€§ã€‚æ©Ÿèƒ½å˜ä½ã®ç‹¬ç«‹æ€§ã€‚ | æ©Ÿèƒ½è¿½åŠ æ™‚ã®å½±éŸ¿ç¯„å›² < 3ãƒ•ã‚¡ã‚¤ãƒ« |
| 2      | **Testabilityï¼ˆãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ï¼‰**          | è‡ªå‹•ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚‹å“è³ªä¿è¨¼ã€‚                   | ã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 80%                 |
| 3      | **Securityï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼‰**             | èªè¨¼ãƒ»èªå¯ã®å …ç‰¢æ€§ã€‚å…¥åŠ›æ¤œè¨¼ã€‚               | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ 0 Critical  |
| 4      | **Usabilityï¼ˆä½¿ã„ã‚„ã™ã•ï¼‰**              | ç›´æ„Ÿçš„ãªUIã€‚                                 | -                                |
| 5      | **Developer Productivityï¼ˆé–‹ç™ºç”Ÿç”£æ€§ï¼‰** | AIä¸»å°é–‹ç™ºã§ã®å®Ÿè£…é€Ÿåº¦ã€‚                     | æ©Ÿèƒ½å®Ÿè£…æ™‚é–“ â‰¤ 2æ—¥               |

### 1.3 Stakeholders

| å½¹å‰²                   | æœŸå¾…                 | é–¢å¿ƒäº‹                                     |
| ---------------------- | -------------------- | ------------------------------------------ |
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼**           | ä½¿ã„ã‚„ã™ã„Webã‚¢ãƒ—ãƒª  | UXå“è³ªã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹                     |
| **é–‹ç™ºãƒãƒ¼ãƒ **         | é«˜é€Ÿé–‹ç™ºã€ä¿å®ˆå®¹æ˜“æ€§ | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ˜ç¢ºã•ã€AIé–‹ç™ºãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ |
| **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼** | ãƒ“ã‚¸ãƒã‚¹ç›®æ¨™é”æˆ     | é–‹ç™ºé€Ÿåº¦ã€å“è³ª                             |
| **AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**     | å®Ÿè£…å¯èƒ½ãªä»•æ§˜       | SPECæ–‡æ›¸ã®æ§‹é€ åŒ–ã€CONTEXT.json SSOT        |

---

## 2. Constraintsï¼ˆåˆ¶ç´„ï¼‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«èª²ã›ã‚‰ã‚ŒãŸæŠ€è¡“çš„ãƒ»çµ„ç¹”çš„åˆ¶ç´„ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

### 2.1 Technical Constraints

| ID    | åˆ¶ç´„                | èƒŒæ™¯ãƒ»ç†ç”±                             |
| ----- | ------------------- | -------------------------------------- |
| TC-01 | **Next.js 14+**     | App Routerã€ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå¯¾å¿œ |
| TC-02 | **TypeScript 5.0+** | å³æ ¼ãƒ¢ãƒ¼ãƒ‰ã€å‹å®‰å…¨æ€§                   |
| TC-03 | **React 18+**       | Concurrent Featuresã€Suspense          |
| TC-04 | **Zod 3.0+**        | ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³                 |
| TC-05 | **Node.js LTS**     | å®‰å®šã—ãŸå®Ÿè¡Œç’°å¢ƒ                       |

### 2.2 Organizational Constraints

| ID    | åˆ¶ç´„                                       | èƒŒæ™¯ãƒ»ç†ç”±                                |
| ----- | ------------------------------------------ | ----------------------------------------- |
| OC-01 | **å°è¦æ¨¡ãƒãƒ¼ãƒ ï¼ˆ1-2å + AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼‰** | AIä¸»å°é–‹ç™ºå¿…é ˆ                            |
| OC-02 | **AIä¸»å°é–‹ç™º**                             | CONTEXT.json SSOTãƒ™ãƒ¼ã‚¹                   |
| OC-03 | **MVPå„ªå…ˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**                    | éå‰°ãªæŠ½è±¡åŒ–ã®å›é¿                        |
| OC-04 | **æ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆå¿…é ˆ**                     | å…¬é–‹APIï¼ˆã‚¯ãƒ©ã‚¹ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ã¯æ—¥æœ¬èªæ–‡æ›¸åŒ– |

### 2.3 Business Constraints

| ID    | åˆ¶ç´„             | èƒŒæ™¯ãƒ»ç†ç”±               |
| ----- | ---------------- | ------------------------ |
| BC-01 | **ä½ã‚³ã‚¹ãƒˆé‹ç”¨** | ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†ã‚³ã‚¹ãƒˆæœ€å°åŒ– |

---

## 3. Context and Scopeï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨å¢ƒç•Œï¼‰

### 3.1 Business Context

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Web Application                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚  Next.js App     â”‚  (Browser)                    â”‚
â”‚  â”‚  (Client)        â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚           â”‚ HTTPS                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Backend Services (Configurable)             â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ API Routes                                â”‚   â”‚
â”‚  â”‚  â€¢ Database (TBD)                            â”‚   â”‚
â”‚  â”‚  â€¢ Authentication (TBD)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Technical Context

| å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ     | å½¹å‰²               | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ | ä¾å­˜åº¦                   |
| --------------- | ------------------ | ---------------- | ------------------------ |
| **Backend API** | ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ãƒ»èªè¨¼ | REST API (JSON)  | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿œã˜ã¦è¨­å®š |
| **CDN**         | é™çš„ã‚¢ã‚»ãƒƒãƒˆé…ä¿¡   | HTTPS            | ğŸŸ¢ Medium                |

---

## 4. Solution Strategyï¼ˆã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥ï¼‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚³ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šã®æ¦‚è¦ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

### 4.1 Core Architecture Decisions

| ID           | æ±ºå®š                                          | ç†ç”±                                         | ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•               |
| ------------ | --------------------------------------------- | -------------------------------------------- | -------------------------- |
| **PADR-001** | Feature-First + Simplified Clean Architecture | æ©Ÿèƒ½å˜ä½ã®ç‹¬ç«‹æ€§ã€ä¾å­˜æ–¹å‘ã®æ˜ç¢ºåŒ–           | æ©Ÿèƒ½é–“ã‚³ãƒ¼ãƒ‰é‡è¤‡ãƒªã‚¹ã‚¯     |
| **PADR-002** | React Hooks + Custom Hooks                    | useState/useEffectæ¨™æº–ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ | ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç†ã®è¤‡é›‘ã• |
| **PADR-003** | è¨­å®šå¯èƒ½ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰                        | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿œã˜ãŸæŸ”è»Ÿãªé¸æŠ               | åˆæœŸè¨­å®šã‚³ã‚¹ãƒˆ             |
| **PADR-004** | TypeScript + Zod                              | å‹å®‰å…¨æ€§ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³           | å­¦ç¿’ã‚³ã‚¹ãƒˆ                 |
| **PADR-006** | CONTEXT.json SSOT                             | AIèª­ã¿æ›¸ãå®¹æ˜“æ€§ã€VCSè¿½è·¡                    | JSONæ‰‹å‹•ç·¨é›†å›°é›£           |

### 4.2 Technology Stack Summary

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯                                      |
| ------------------ | ------------------------------------------------- |
| **Frontend**       | Next.js 14+, React 18+, TypeScript 5.0+, Zod 3.0+ |
| **Backend**        | Next.js API Routes (è¨­å®šå¯èƒ½)                     |
| **Authentication** | è¨­å®šå¯èƒ½ (NextAuth.jsç­‰)                          |
| **Styling**        | Tailwind CSS (æ¨å¥¨)                               |

è©³ç´°ã¯ [tech-stack-rules.md](../technical/tech-stack-rules.md) ã‚’å‚ç…§ã€‚

---

## 5. Building Blocks Viewï¼ˆæ§‹æˆè¦ç´ ãƒ“ãƒ¥ãƒ¼ï¼‰

### 5.1 Level 1: System Decomposition

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Web Application System                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚  Next.js App     â”‚  (Browser + Server)           â”‚
â”‚  â”‚                  â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚           â”‚ HTTPS                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Backend (Configurable)                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ API                                       â”‚   â”‚
â”‚  â”‚  â€¢ Database                                  â”‚   â”‚
â”‚  â”‚  â€¢ Authentication                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Level 2: Container Diagram

#### Next.js App Container

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | æŠ€è¡“               | è²¬å‹™                       |
| -------------- | ------------------ | -------------------------- |
| **Components** | React + TypeScript | UIè¡¨ç¤ºã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›       |
| **Hooks**      | Custom Hooks       | çŠ¶æ…‹ç®¡ç†ã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ |
| **API Layer**  | API Client         | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é€£æº           |
| **Types**      | TypeScript + Zod   | å‹å®šç¾©ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³     |

---

## 6. Runtime Viewï¼ˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãƒ“ãƒ¥ãƒ¼ï¼‰

### 6.1 Data Fetch Flow

```mermaid
sequenceDiagram
    participant User
    participant Component
    participant Hook
    participant API
    participant Backend

    User->>Component: ãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹
    Component->>Hook: useData() å‘¼ã³å‡ºã—
    Hook->>API: fetchData()
    API->>Backend: HTTP Request
    Backend-->>API: JSON Response
    API->>API: Zod ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    API-->>Hook: Typed Data
    Hook-->>Component: { data, loading, error }
    Component->>User: UIãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
```

---

## 7. Deployment Viewï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ“ãƒ¥ãƒ¼ï¼‰

### 7.1 Deployment Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Client Devices                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Web Browser (Chrome/Safari/Firefox/Edge)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚ HTTPS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Hosting Platform (Vercel/AWS/etc)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Next.js Application                         â”‚  â”‚
â”‚  â”‚  - Static Generation                         â”‚  â”‚
â”‚  â”‚  - Server-Side Rendering                     â”‚  â”‚
â”‚  â”‚  - API Routes                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. Cross-Cutting Conceptsï¼ˆæ¨ªæ–­çš„é–¢å¿ƒäº‹ï¼‰

### 8.1 Error Handling

**åŸå‰‡**: Fail-Fast + æ§‹é€ åŒ–ãƒ­ã‚®ãƒ³ã‚°

```typescript
// âœ… æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³
async function fetchData() {
  try {
    const data = await apiClient.getData();
    return data;
  } catch (error) {
    logger.error('ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—', error);
    throw new Error('ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“');
  }
}
```

### 8.2 Logging

**åŸå‰‡**: é©åˆ‡ãªãƒ­ã‚¬ãƒ¼ä½¿ç”¨ï¼ˆ`console.log()` ç¦æ­¢ï¼‰

| ãƒ¬ãƒ™ãƒ«      | ç”¨é€”                      |
| ----------- | ------------------------- |
| **Debug**   | é–‹ç™ºä¸­ã®ãƒ‡ãƒãƒƒã‚°æƒ…å ±      |
| **Info**    | ä¸€èˆ¬çš„ãªæƒ…å ±ãƒ­ã‚°          |
| **Warning** | è­¦å‘Šï¼ˆã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ï¼‰    |
| **Error**   | ã‚¨ãƒ©ãƒ¼ + ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ |

### 8.3 Security

#### 8.3.1 Input Validation

ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’Zodã§æ¤œè¨¼ã€‚

```typescript
import { z } from 'zod';

const UserInputSchema = z.object({
  name: z.string().min(1).max(100),
  email: z.string().email(),
});

// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
const result = UserInputSchema.safeParse(input);
if (!result.success) {
  throw new Error('Invalid input');
}
```

#### 8.3.2 Authentication & Authorization

| æ©Ÿèƒ½               | å®Ÿè£…                      |
| ------------------ | ------------------------- |
| **èªè¨¼**           | è¨­å®šå¯èƒ½ï¼ˆNextAuth.jsç­‰ï¼‰ |
| **èªå¯**           | ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§å®Ÿè£…        |
| **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†** | ã‚»ã‚­ãƒ¥ã‚¢ãªãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†    |

#### 8.3.3 Secret Management

| ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ | ç®¡ç†æ–¹æ³•                                     |
| ------------ | -------------------------------------------- |
| **API Keys** | `.env.local` / `.env.production` (gitignore) |
| **Tokens**   | ç’°å¢ƒå¤‰æ•°                                     |

---

## 9. Architecture Decisionsï¼ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ±ºå®šï¼‰

### 9.1 Platform Architecture Decision Records (PADR)

| ID                                                             | ã‚¿ã‚¤ãƒˆãƒ«                                      | æ±ºå®š                        | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹  |
| -------------------------------------------------------------- | --------------------------------------------- | --------------------------- | ----------- |
| [PADR-001](./adr/PADR-001-feature-first-clean-architecture.md) | Feature-First + Simplified Clean Architecture | Feature-Firstã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | âœ… Accepted |
| [PADR-002]                                                     | React Hooks State Management                  | React Hooks + Custom Hooks  | âœ… Accepted |
| [PADR-003]                                                     | Configurable Backend                          | è¨­å®šå¯èƒ½ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰      | âœ… Accepted |
| [PADR-004]                                                     | TypeScript + Zod                              | å‹å®‰å…¨æ€§ + ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³   | âœ… Accepted |
| [PADR-006](./adr/PADR-006-context-json-ssot.md)                | CONTEXT.json SSOT                             | æ©Ÿèƒ½ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å˜ä¸€ç®¡ç†      | âœ… Accepted |

---

## 10. Quality Requirementsï¼ˆå“è³ªè¦æ±‚ï¼‰

### 10.1 Quality Attribute Scenarios

| å“è³ªå±æ€§                   | ã‚·ãƒŠãƒªã‚ª               | æ¸¬å®šæŒ‡æ¨™               | ç›®æ¨™å€¤      |
| -------------------------- | ---------------------- | ---------------------- | ----------- |
| **Maintainability**        | æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®å½±éŸ¿ç¯„å›² | å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°         | â‰¤ 3ãƒ•ã‚¡ã‚¤ãƒ« |
| **Testability**            | å˜ä½“ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸   | ã‚«ãƒãƒ¬ãƒƒã‚¸ç‡           | â‰¥ 80%       |
| **Security**               | å…¥åŠ›æ¤œè¨¼               | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼   | 0ä»¶         |
| **Performance**            | ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“       | First Contentful Paint | â‰¤ 1.5ç§’     |
| **Developer Productivity** | æ©Ÿèƒ½å®Ÿè£…æ™‚é–“           | å®Ÿè£…ã€œãƒ†ã‚¹ãƒˆå®Œäº†       | â‰¤ 2æ—¥       |

---

## 11. Risks and Technical Debtï¼ˆãƒªã‚¹ã‚¯ã¨æŠ€è¡“çš„è² å‚µï¼‰

### 11.1 Architecture Risks

| ãƒªã‚¹ã‚¯                    | å½±éŸ¿åº¦ | ç™ºç”Ÿç¢ºç‡ | ç·©å’Œç­–                     |
| ------------------------- | ------ | -------- | -------------------------- |
| **TypeScriptå³æ ¼ãƒ¢ãƒ¼ãƒ‰**  | Medium | Low      | æ®µéšçš„å°å…¥ã€å‹å®šç¾©æ•´å‚™     |
| **Featureé–“ã®é‡è¤‡ã‚³ãƒ¼ãƒ‰** | Medium | Medium   | Sharedãƒ¬ã‚¤ãƒ¤ãƒ¼ã®é©åˆ‡ãªæ´»ç”¨ |

### 11.2 Technical Debt

| é …ç›®                      | èª¬æ˜             | å„ªå…ˆåº¦ | å¯¾å¿œè¨ˆç”»                   |
| ------------------------- | ---------------- | ------ | -------------------------- |
| **shared ãƒ¬ã‚¤ãƒ¤ãƒ¼è‚¥å¤§åŒ–** | å…±é€šã‚³ãƒ¼ãƒ‰ã®å¢—åŠ  | Medium | å››åŠæœŸã”ã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° |

---

## 12. Glossaryï¼ˆç”¨èªé›†ï¼‰

| ç”¨èª                              | å®šç¾©                                                   |
| --------------------------------- | ------------------------------------------------------ |
| **Feature-First**                 | æ©Ÿèƒ½å˜ä½ã§ãƒ•ã‚©ãƒ«ãƒ€ã‚’åˆ†å‰²ã™ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³     |
| **SSOT (Single Source of Truth)** | å”¯ä¸€ã®çœŸå®Ÿã®ã‚½ãƒ¼ã‚¹ã€‚CONTEXT.jsonãŒæ©Ÿèƒ½ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®SSOT |
| **Custom Hook**                   | React hooksã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ãŸå†åˆ©ç”¨å¯èƒ½ãªãƒ­ã‚¸ãƒƒã‚¯        |
| **Zod**                           | TypeScriptã®ã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª           |

---

## å‚ç…§æ–‡æ›¸

- [CLAUDE.mdï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼‰](../../CLAUDE.md)
- [Tech Stack Rules](../technical/tech-stack-rules.md)
- [All PADR Documents](./adr/)
- [arc42 Template](https://arc42.org/)

---

**æ–‡æ›¸ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹**:

- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´æ™‚ã«å³åº§ã«æ›´æ–°
- å››åŠæœŸã”ã¨ã«å…¨ä½“ãƒ¬ãƒ“ãƒ¥ãƒ¼

**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼**: 2026å¹´5æœˆ
