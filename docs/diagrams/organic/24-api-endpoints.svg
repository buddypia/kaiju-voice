<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 800" font-family="'Nunito', 'Quicksand', system-ui, sans-serif">
  <defs>
    <linearGradient id="bg24" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#fdfbfb"/>
      <stop offset="100%" stop-color="#ebedee"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="1400" height="800" fill="url(#bg24)"/>

  <!-- Title -->
  <text x="700" y="65" text-anchor="middle" font-size="46" font-weight="800" fill="#334155">API エンドポイント設計</text>
  <text x="700" y="100" text-anchor="middle" font-size="22" font-weight="600" fill="#64748b">Client → Route Handlers → Gemini API</text>

  <!-- Client Hub Blob -->
  <g transform="translate(180, 420)">
    <path d="M 90,-120 C 150,-100 160,-20 140,50 C 120,120 40,160 -40,140 C -120,120 -160,40 -130,-30 C -100,-100 -10,-140 90,-120 Z" fill="#8b5cf6" transform="scale(1.1)"/>
    <text x="0" y="-15" text-anchor="middle" font-size="32" font-weight="800" fill="#ffffff">Client</text>
    <text x="0" y="20" text-anchor="middle" font-size="16" font-weight="600" fill="rgba(255,255,255,0.85)">Next.js / React 19</text>
    <text x="0" y="48" text-anchor="middle" font-size="14" font-weight="600" fill="rgba(255,255,255,0.7)">useHooks</text>
  </g>

  <!-- Connectors from Client to endpoints -->
  <path d="M 310,330 C 420,230 480,210 540,220" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>
  <path d="M 320,380 C 430,350 500,340 560,350" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>
  <path d="M 320,460 C 430,480 500,490 560,500" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>
  <path d="M 310,520 C 420,600 480,620 540,640" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>

  <!-- Endpoint 1: Voice Analyze -->
  <g transform="translate(700, 230)">
    <path d="M 60,-70 C 110,-60 120,0 90,50 C 60,100 -10,120 -60,90 C -110,60 -120,-10 -90,-60 C -60,-100 10,-80 60,-70 Z" fill="#bfdbfe" transform="scale(1.3, 0.95)"/>
    <circle cx="-85" cy="-45" r="24" fill="#3b82f6"/>
    <text x="-85" y="-36" text-anchor="middle" font-size="36" font-weight="900" fill="#ffffff">1</text>
    <text x="5" y="-25" text-anchor="middle" font-size="18" font-weight="800" fill="#1e293b">/api/voice/analyze</text>
    <text x="5" y="2" text-anchor="middle" font-size="15" font-weight="600" fill="#475569">POST -- audio/webm → JSON</text>
    <text x="5" y="30" text-anchor="middle" font-size="14" font-weight="600" fill="#3b82f6">gemini-3-flash</text>
  </g>

  <!-- Endpoint 2: AI Opponent -->
  <g transform="translate(700, 380)">
    <path d="M 50,-80 C 100,-90 120,-30 110,20 C 100,80 50,110 -20,100 C -90,90 -120,30 -100,-30 C -80,-80 -10,-70 50,-80 Z" fill="#fbcfe8" transform="scale(1.3, 0.95)"/>
    <circle cx="-90" cy="-55" r="24" fill="#ec4899"/>
    <text x="-90" y="-46" text-anchor="middle" font-size="36" font-weight="900" fill="#ffffff">2</text>
    <text x="5" y="-25" text-anchor="middle" font-size="18" font-weight="800" fill="#1e293b">/api/ai-opponent/attack</text>
    <text x="5" y="2" text-anchor="middle" font-size="15" font-weight="600" fill="#475569">POST -- gameState → JSON</text>
    <text x="5" y="30" text-anchor="middle" font-size="14" font-weight="600" fill="#ec4899">gemini-3-flash (t:1.0)</text>
  </g>

  <!-- Endpoint 3: Commentary -->
  <g transform="translate(700, 530)">
    <path d="M 80,-60 C 120,-30 110,40 70,80 C 30,120 -40,110 -80,70 C -120,30 -110,-40 -70,-80 C -30,-120 40,-90 80,-60 Z" fill="#e9d5ff" transform="scale(1.3, 0.95)"/>
    <circle cx="-90" cy="-60" r="24" fill="#a855f7"/>
    <text x="-90" y="-51" text-anchor="middle" font-size="36" font-weight="900" fill="#ffffff">3</text>
    <text x="5" y="-20" text-anchor="middle" font-size="18" font-weight="800" fill="#1e293b">/api/commentary/live</text>
    <text x="5" y="7" text-anchor="middle" font-size="15" font-weight="600" fill="#475569">POST -- SSE + PCM audio</text>
    <text x="5" y="35" text-anchor="middle" font-size="14" font-weight="600" fill="#a855f7">gemini-2.5-flash-tts</text>
  </g>

  <!-- Endpoint 4: Kaiju Generate -->
  <g transform="translate(700, 670)">
    <path d="M 40,-85 C 95,-75 115,-15 105,35 C 95,85 35,115 -25,95 C -85,75 -115,15 -95,-45 C -75,-85 -15,-95 40,-85 Z" fill="#fed7aa" transform="scale(1.3, 0.95)"/>
    <circle cx="-85" cy="-60" r="24" fill="#f97316"/>
    <text x="-85" y="-51" text-anchor="middle" font-size="36" font-weight="900" fill="#ffffff">4</text>
    <text x="5" y="-25" text-anchor="middle" font-size="18" font-weight="800" fill="#1e293b">/api/kaiju/generate</text>
    <text x="5" y="2" text-anchor="middle" font-size="15" font-weight="600" fill="#475569">POST -- prompt → image</text>
    <text x="5" y="30" text-anchor="middle" font-size="14" font-weight="600" fill="#f97316">Imagen 4</text>
  </g>

  <!-- Connectors to Gemini API blob -->
  <path d="M 840,230 C 950,220 1020,210 1100,250" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>
  <path d="M 840,380 C 950,370 1020,350 1100,340" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>
  <path d="M 840,520 C 950,510 1020,470 1100,440" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>
  <path d="M 840,660 C 950,620 1020,560 1100,520" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>

  <!-- Gemini API Hub Blob -->
  <g transform="translate(1200, 400)">
    <path d="M 90,-120 C 150,-100 160,-20 140,50 C 120,120 40,160 -40,140 C -120,120 -160,40 -130,-30 C -100,-100 -10,-140 90,-120 Z" fill="#8b5cf6" transform="scale(1.2, 1.8)"/>
    <text x="0" y="-10" text-anchor="middle" font-size="32" font-weight="800" fill="#ffffff">Gemini</text>
    <text x="0" y="25" text-anchor="middle" font-size="32" font-weight="800" fill="#ffffff">API</text>
  </g>

  <!-- Footer -->
  <rect x="440" y="758" width="520" height="36" rx="30" fill="white"/>
  <text x="700" y="782" text-anchor="middle" font-size="16" font-weight="600" fill="#64748b">4 endpoints / 3 Gemini models + Imagen 4</text>
</svg>