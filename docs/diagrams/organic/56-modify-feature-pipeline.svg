<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="800" viewBox="0 0 1400 800">
  <defs>
    <linearGradient id="org-bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#fdfbfb"/>
      <stop offset="100%" stop-color="#ebedee"/>
    </linearGradient>
    <path id="blob-c1" d="M 50,-80 C 100,-90 120,-30 110,20 C 100,80 50,110 -20,100 C -90,90 -120,30 -100,-30 C -80,-80 -10,-70 50,-80 Z"/>
    <path id="blob-c2" d="M 60,-70 C 110,-60 120,0 90,50 C 60,100 -10,120 -60,90 C -110,60 -120,-10 -90,-60 C -60,-100 10,-80 60,-70 Z"/>
    <path id="blob-c3" d="M 30,-90 C 90,-80 110,-20 100,40 C 90,100 20,110 -40,90 C -100,70 -110,10 -80,-40 C -50,-90 -20,-100 30,-90 Z"/>
    <path id="blob-c4" d="M 80,-60 C 120,-30 110,40 70,80 C 30,120 -40,110 -80,70 C -120,30 -110,-40 -70,-80 C -30,-120 40,-90 80,-60 Z"/>
    <path id="blob-c5" d="M 45,-75 C 95,-65 115,-5 100,45 C 85,95 25,115 -35,95 C -95,75 -115,15 -95,-40 C -75,-85 -10,-85 45,-75 Z"/>
    <path id="blob-hub" d="M 90,-120 C 150,-100 160,-20 140,50 C 120,120 40,160 -40,140 C -120,120 -160,40 -130,-30 C -100,-100 -10,-140 90,-120 Z"/>
    <style>
      .og-title{font:800 42px 'Nunito','Quicksand',system-ui,sans-serif;fill:#334155;letter-spacing:-.5px}
      .og-sub{font:600 20px 'Nunito','Quicksand',system-ui,sans-serif;fill:#64748b}
      .og-h{font:800 22px 'Nunito','Quicksand',system-ui,sans-serif;fill:#1e293b}
      .og-s{font:600 15px 'Nunito','Quicksand',system-ui,sans-serif;fill:#475569}
      .og-num{font:900 36px 'Nunito','Quicksand',system-ui,sans-serif;fill:#fff}
      .og-center{font:800 28px 'Nunito','Quicksand',system-ui,sans-serif;fill:#fff}
      .og-phase{font:700 16px 'Nunito','Quicksand',system-ui,sans-serif;fill:#94a3b8;letter-spacing:2px}
      .og-tier{font:800 18px 'Nunito','Quicksand',system-ui,sans-serif}
      .og-badge{font:700 13px 'Nunito','Quicksand',system-ui,sans-serif;fill:#fff}
    </style>
  </defs>

  <rect width="1400" height="800" fill="url(#org-bg)"/>

  <!-- Title -->
  <text x="700" y="58" text-anchor="middle" class="og-title">MODIFY_FEATURE Pipeline</text>
  <text x="700" y="88" text-anchor="middle" class="og-sub">既存機能を安全に変更する 差分分析 → 影響範囲特定 → 実装 → 検証 のフロー</text>

  <!-- Phase labels -->
  <text x="130" y="150" class="og-phase">S-TIER: BASE FLOW</text>
  <text x="130" y="485" class="og-phase">M-TIER: ADDITIONAL STEPS</text>

  <!-- S-Tier main flow connectors: 1→2→3→4 -->
  <g stroke="#94a3b8" stroke-width="3.5" stroke-dasharray="10 10" fill="none" stroke-linecap="round">
    <path d="M 340,280 Q 415,240 490,280"/>
    <path d="M 660,280 Q 735,240 810,280"/>
    <path d="M 980,280 Q 1060,240 1130,280"/>
  </g>

  <!-- S-Tier connectors to M-Tier additions -->
  <g stroke="#94a3b8" stroke-width="2.5" stroke-dasharray="8 8" fill="none" stroke-linecap="round" opacity="0.6">
    <!-- From spec-update down to impact-analysis -->
    <path d="M 240,370 Q 280,460 350,510"/>
    <!-- From implement down to wiring -->
    <path d="M 900,370 Q 850,460 740,510"/>
    <!-- From quality-gate down to status-sync -->
    <path d="M 1170,370 Q 1130,460 1100,510"/>
    <!-- M-tier inter-connections -->
    <path d="M 470,570 Q 550,540 620,570"/>
    <path d="M 860,570 Q 940,540 1000,570"/>
  </g>

  <!-- Step 1: spec-update (yellow) -->
  <g transform="translate(230,285)">
    <use href="#blob-c1" fill="#fef08a"/>
    <circle cx="-50" cy="-50" r="26" fill="#eab308"/>
    <text x="-50" y="-36" text-anchor="middle" class="og-num">1</text>
    <text x="0" y="-2" text-anchor="middle" class="og-h">SPEC更新</text>
    <text x="0" y="22" text-anchor="middle" class="og-s">spec-updater</text>
    <text x="0" y="44" text-anchor="middle" class="og-s">既存SPECの差分更新</text>
  </g>

  <!-- Step 2: readiness-gate (pink) -->
  <g transform="translate(570,285)">
    <use href="#blob-c3" fill="#fbcfe8"/>
    <circle cx="-50" cy="-50" r="26" fill="#ec4899"/>
    <text x="-50" y="-36" text-anchor="middle" class="og-num">2</text>
    <text x="0" y="-2" text-anchor="middle" class="og-h">Readiness Gate</text>
    <text x="0" y="22" text-anchor="middle" class="og-s">readiness-gate</text>
    <text x="0" y="44" text-anchor="middle" class="og-s">Go / No-Go 判定</text>
  </g>

  <!-- Step 3: implement (green) -->
  <g transform="translate(900,285)">
    <use href="#blob-c4" fill="#bbf7d0"/>
    <circle cx="-50" cy="-50" r="26" fill="#22c55e"/>
    <text x="-50" y="-36" text-anchor="middle" class="og-num">3</text>
    <text x="0" y="-2" text-anchor="middle" class="og-h">TDD実装</text>
    <text x="0" y="22" text-anchor="middle" class="og-s">feature-implementer</text>
    <text x="0" y="44" text-anchor="middle" class="og-s">差分実装 + テスト</text>
  </g>

  <!-- Step 4: quality-gate (purple) -->
  <g transform="translate(1170,285)">
    <use href="#blob-c5" fill="#e9d5ff"/>
    <circle cx="-50" cy="-50" r="26" fill="#a855f7"/>
    <text x="-50" y="-36" text-anchor="middle" class="og-num">4</text>
    <text x="0" y="-2" text-anchor="middle" class="og-h">品質検証</text>
    <text x="0" y="22" text-anchor="middle" class="og-s">quality-gate</text>
    <text x="0" y="44" text-anchor="middle" class="og-s">lint + test + build</text>
  </g>

  <!-- M-Tier: impact-analysis -->
  <g transform="translate(350,570)">
    <use href="#blob-c2" fill="#bfdbfe" transform="scale(0.7)"/>
    <rect x="-65" y="-80" width="34" height="20" rx="10" fill="#3b82f6"/>
    <text x="-48" y="-65" text-anchor="middle" class="og-badge">M</text>
    <text x="0" y="-2" text-anchor="middle" class="og-h" style="font-size:18px">影響分析</text>
    <text x="0" y="20" text-anchor="middle" class="og-s" style="font-size:13px">impact-analysis</text>
    <text x="0" y="40" text-anchor="middle" class="og-s" style="font-size:13px">変更範囲の特定</text>
  </g>

  <!-- M-Tier: wiring -->
  <g transform="translate(740,570)">
    <use href="#blob-c1" fill="#fef9c4" transform="scale(0.7)"/>
    <rect x="-65" y="-80" width="34" height="20" rx="10" fill="#eab308"/>
    <text x="-48" y="-65" text-anchor="middle" class="og-badge">M</text>
    <text x="0" y="-2" text-anchor="middle" class="og-h" style="font-size:18px">統合検証</text>
    <text x="0" y="20" text-anchor="middle" class="og-s" style="font-size:13px">feature-wiring</text>
    <text x="0" y="40" text-anchor="middle" class="og-s" style="font-size:13px">Export / Route検証</text>
  </g>

  <!-- M-Tier: status-sync -->
  <g transform="translate(1100,570)">
    <use href="#blob-c3" fill="#fce7f3" transform="scale(0.7)"/>
    <rect x="-65" y="-80" width="34" height="20" rx="10" fill="#ec4899"/>
    <text x="-48" y="-65" text-anchor="middle" class="og-badge">M</text>
    <text x="0" y="-2" text-anchor="middle" class="og-h" style="font-size:18px">状態同期</text>
    <text x="0" y="20" text-anchor="middle" class="og-s" style="font-size:13px">status-sync</text>
    <text x="0" y="40" text-anchor="middle" class="og-s" style="font-size:13px">CONTEXT.json更新</text>
  </g>

  <!-- Footer -->
  <g transform="translate(700,740)">
    <rect x="-550" y="-28" width="1100" height="56" rx="28" fill="#ffffff"/>
    <text x="-280" y="7" text-anchor="middle" class="og-tier" fill="#eab308">既存SPECをロード → 差分のみ更新</text>
    <text x="250" y="7" text-anchor="middle" class="og-tier" fill="#a855f7">影響範囲を自動特定して安全に変更</text>
  </g>
</svg>