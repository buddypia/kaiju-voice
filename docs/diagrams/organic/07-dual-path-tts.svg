<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 800" font-family="'Nunito', 'Quicksand', system-ui, sans-serif">
  <defs>
    <linearGradient id="bg-grad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#fdfbfb"/>
      <stop offset="100%" stop-color="#ebedee"/>
    </linearGradient>
    <path id="blob-c1" d="M 50,-80 C 100,-90 120,-30 110,20 C 100,80 50,110 -20,100 C -90,90 -120,30 -100,-30 C -80,-80 -10,-70 50,-80 Z"/>
    <path id="blob-c2" d="M 60,-70 C 110,-60 120,0 90,50 C 60,100 -10,120 -60,90 C -110,60 -120,-10 -90,-60 C -60,-100 10,-80 60,-70 Z"/>
    <path id="blob-c3" d="M 30,-90 C 90,-80 110,-20 100,40 C 90,100 20,110 -40,90 C -100,70 -110,10 -80,-40 C -50,-90 -20,-100 30,-90 Z"/>
    <path id="blob-c4" d="M 80,-60 C 120,-30 110,40 70,80 C 30,120 -40,110 -80,70 C -120,30 -110,-40 -70,-80 C -30,-120 40,-90 80,-60 Z"/>
    <path id="blob-c5" d="M 40,-85 C 95,-75 115,-15 105,35 C 95,85 35,115 -25,95 C -85,75 -115,15 -95,-45 C -75,-85 -15,-95 40,-85 Z"/>
    <path id="blob-c6" d="M 70,-65 C 115,-45 120,10 95,55 C 65,105 -5,115 -55,85 C -105,55 -115,-15 -85,-65 C -55,-105 25,-85 70,-65 Z"/>
  </defs>

  <rect width="1400" height="800" fill="url(#bg-grad)"/>

  <!-- Title -->
  <text x="700" y="70" text-anchor="middle" font-size="46" font-weight="800" fill="#334155">Dual Path TTS</text>
  <text x="700" y="105" text-anchor="middle" font-size="22" font-weight="600" fill="#64748b">テキストSSE + TTS音声の並列実行</text>

  <!-- Event Trigger -->
  <g transform="translate(180, 400)">
    <use href="#blob-c1" fill="#fbcfe8" transform="scale(1.2)"/>
    <circle cx="0" cy="-60" r="26" fill="#ec4899"/>
    <text x="0" y="-48" text-anchor="middle" font-size="26" font-weight="900" fill="#ffffff">1</text>
    <text x="0" y="5" text-anchor="middle" font-size="22" font-weight="800" fill="#1e293b">バトルイベント</text>
    <text x="0" y="35" text-anchor="middle" font-size="14" font-weight="600" fill="#475569">attack / critical / ko</text>
  </g>

  <!-- Connector to fork -->
  <path d="M 310,400 Q 380,400 440,400" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>

  <!-- Fork: Promise.allSettled -->
  <g transform="translate(480, 400)">
    <use href="#blob-c2" fill="#e9d5ff" transform="scale(0.7)"/>
    <text x="0" y="5" text-anchor="middle" font-size="16" font-weight="800" fill="#6b21a8">||</text>
  </g>
  <text x="480" y="330" text-anchor="middle" font-size="16" font-weight="800" fill="#a855f7">Promise.allSettled</text>

  <!-- Path A: Text SSE (upper) -->
  <path d="M 530,375 Q 600,280 680,280" stroke="#3b82f6" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>

  <g transform="translate(780, 280)">
    <use href="#blob-c3" fill="#bfdbfe" transform="scale(1.15)"/>
    <circle cx="0" cy="-60" r="22" fill="#3b82f6"/>
    <text x="0" y="-52" text-anchor="middle" font-size="28" font-weight="900" fill="#ffffff">2</text>
    <text x="0" y="0" text-anchor="middle" font-size="22" font-weight="800" fill="#1e293b">テキストSSE</text>
    <text x="0" y="28" text-anchor="middle" font-size="14" font-weight="600" fill="#475569">即座にストリーミング表示</text>
    <text x="0" y="58" text-anchor="middle" font-size="14" font-weight="600" fill="#3b82f6">即座</text>
  </g>

  <!-- Connector to result A -->
  <path d="M 910,280 Q 990,280 1060,280" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>

  <g transform="translate(1140, 280)">
    <use href="#blob-c5" fill="#bbf7d0" transform="scale(0.9)"/>
    <text x="0" y="5" text-anchor="middle" font-size="18" font-weight="800" fill="#1e293b">画面にテキスト</text>
  </g>

  <!-- Path B: TTS Audio (lower) -->
  <path d="M 530,425 Q 600,520 680,520" stroke="#a855f7" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>

  <g transform="translate(780, 520)">
    <use href="#blob-c4" fill="#e9d5ff" transform="scale(1.15)"/>
    <circle cx="0" cy="-60" r="22" fill="#a855f7"/>
    <text x="0" y="-52" text-anchor="middle" font-size="28" font-weight="900" fill="#ffffff">3</text>
    <text x="0" y="0" text-anchor="middle" font-size="22" font-weight="800" fill="#1e293b">TTS音声</text>
    <text x="0" y="28" text-anchor="middle" font-size="14" font-weight="600" fill="#475569">gemini-2.5-flash-tts (Kore)</text>
    <text x="0" y="58" text-anchor="middle" font-size="14" font-weight="600" fill="#a855f7">生成完了後</text>
  </g>

  <!-- Connector to result B -->
  <path d="M 910,520 Q 990,520 1060,520" stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" stroke-linecap="round" fill="none"/>

  <g transform="translate(1140, 520)">
    <use href="#blob-c6" fill="#bbf7d0" transform="scale(0.9)"/>
    <text x="0" y="5" text-anchor="middle" font-size="18" font-weight="800" fill="#1e293b">スピーカー再生</text>
  </g>

  <!-- Key Insight Pill -->
  <rect x="290" y="680" width="820" height="50" rx="30" fill="#8b5cf6"/>
  <text x="700" y="712" text-anchor="middle" font-size="18" font-weight="700" fill="#ffffff">テキストは即座に表示、音声は準備できたら再生 → 体感遅延を最小化</text>

  <!-- Footer -->
  <rect x="380" y="745" width="640" height="40" rx="30" fill="#ffffff"/>
  <text x="700" y="770" text-anchor="middle" font-size="15" font-weight="600" fill="#475569">Live Agent — デュアルパス並列実行パターン</text>
</svg>