<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="800" viewBox="0 0 1400 800">
  <defs>
    <linearGradient id="org-bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#fdfbfb"/>
      <stop offset="100%" stop-color="#ebedee"/>
    </linearGradient>
    <path id="blob-c1" d="M 50,-80 C 100,-90 120,-30 110,20 C 100,80 50,110 -20,100 C -90,90 -120,30 -100,-30 C -80,-80 -10,-70 50,-80 Z"/>
    <path id="blob-c2" d="M 60,-70 C 110,-60 120,0 90,50 C 60,100 -10,120 -60,90 C -110,60 -120,-10 -90,-60 C -60,-100 10,-80 60,-70 Z"/>
    <path id="blob-c3" d="M 30,-90 C 90,-80 110,-20 100,40 C 90,100 20,110 -40,90 C -100,70 -110,10 -80,-40 C -50,-90 -20,-100 30,-90 Z"/>
    <path id="blob-c4" d="M 80,-60 C 120,-30 110,40 70,80 C 30,120 -40,110 -80,70 C -120,30 -110,-40 -70,-80 C -30,-120 40,-90 80,-60 Z"/>
    <path id="blob-hub" d="M 90,-120 C 150,-100 160,-20 140,50 C 120,120 40,160 -40,140 C -120,120 -160,40 -130,-30 C -100,-100 -10,-140 90,-120 Z"/>
    <path id="blob-sm" d="M 35,-55 C 70,-60 80,-20 75,15 C 65,55 35,75 -15,65 C -60,55 -80,20 -65,-20 C -50,-55 -5,-50 35,-55 Z"/>
    <style>
      .og-title{font:800 46px 'Nunito','Quicksand',system-ui,sans-serif;fill:#334155;letter-spacing:-.5px}
      .og-sub{font:600 22px 'Nunito','Quicksand',system-ui,sans-serif;fill:#64748b}
      .og-h{font:800 24px 'Nunito','Quicksand',system-ui,sans-serif;fill:#1e293b}
      .og-s{font:600 16px 'Nunito','Quicksand',system-ui,sans-serif;fill:#475569}
      .og-xs{font:600 13px 'Nunito','Quicksand',system-ui,sans-serif;fill:#94a3b8}
      .og-num{font:900 42px 'Nunito','Quicksand',system-ui,sans-serif;fill:#fff}
      .og-center{font:800 32px 'Nunito','Quicksand',system-ui,sans-serif;fill:#fff}
      .og-label{font:700 15px 'Nunito','Quicksand',system-ui,sans-serif;fill:#8b5cf6}
    </style>
  </defs>

  <rect width="1400" height="800" fill="url(#org-bg)"/>

  <!-- Title -->
  <text x="700" y="58" text-anchor="middle" class="og-title">TDD-Driven Implementation</text>
  <text x="700" y="90" text-anchor="middle" class="og-sub">SPEC.md契約 → 4フェーズ順序実装 → Red / Green / Refactor</text>

  <!-- SPEC.md input blob (small, left side) -->
  <g transform="translate(100,280)">
    <use href="#blob-sm" fill="#e0e7ff"/>
    <text x="0" y="-5" text-anchor="middle" class="og-h">SPEC.md</text>
    <text x="0" y="18" text-anchor="middle" class="og-s">契約入力</text>
  </g>

  <!-- Connector: SPEC.md → Phase 1 -->
  <g stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" fill="none" stroke-linecap="round">
    <path d="M 160,280 Q 210,260 260,280"/>
  </g>

  <!-- Phase-to-phase flow connectors (horizontal arches) -->
  <g stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" fill="none" stroke-linecap="round">
    <path d="M 410,270 Q 470,210 530,270"/>
    <path d="M 680,270 Q 740,210 800,270"/>
    <path d="M 950,270 Q 1010,210 1070,270"/>
  </g>

  <!-- Execution mode labels on arches -->
  <text x="470" y="225" text-anchor="middle" class="og-label">parallel → sequential</text>
  <text x="740" y="225" text-anchor="middle" class="og-label">sequential → sequential</text>
  <text x="1010" y="225" text-anchor="middle" class="og-label">sequential → parallel</text>

  <!-- Connectors: phases → TDD hub -->
  <g stroke="#94a3b8" stroke-width="4" stroke-dasharray="12 12" fill="none" stroke-linecap="round">
    <path d="M 330,400 Q 450,510 560,560"/>
    <path d="M 600,400 Q 640,490 660,540"/>
    <path d="M 860,400 Q 800,490 760,540"/>
    <path d="M 1130,400 Q 980,510 850,560"/>
  </g>

  <!-- Phase 1: Data Layer -->
  <g transform="translate(330,310)">
    <use href="#blob-c1" fill="#fef08a"/>
    <circle cx="-50" cy="-55" r="30" fill="#eab308"/>
    <text x="-50" y="-40" text-anchor="middle" class="og-num">1</text>
    <text x="5" y="-10" text-anchor="middle" class="og-h">Data Layer</text>
    <text x="5" y="16" text-anchor="middle" class="og-s" fill="#eab308">並列実行</text>
    <text x="5" y="42" text-anchor="middle" class="og-s">TypeScript型 + Zod + API</text>
  </g>

  <!-- Phase 2: Logic Layer -->
  <g transform="translate(600,310)">
    <use href="#blob-c2" fill="#bfdbfe"/>
    <circle cx="-50" cy="-55" r="30" fill="#3b82f6"/>
    <text x="-50" y="-40" text-anchor="middle" class="og-num">2</text>
    <text x="5" y="-10" text-anchor="middle" class="og-h">Logic Layer</text>
    <text x="5" y="16" text-anchor="middle" class="og-s" fill="#3b82f6">順次実行</text>
    <text x="5" y="42" text-anchor="middle" class="og-s">Hook + State Machine</text>
  </g>

  <!-- Phase 3: Presentation -->
  <g transform="translate(860,310)">
    <use href="#blob-c4" fill="#bbf7d0"/>
    <circle cx="-50" cy="-55" r="30" fill="#22c55e"/>
    <text x="-50" y="-40" text-anchor="middle" class="og-num">3</text>
    <text x="5" y="-10" text-anchor="middle" class="og-h">Presentation</text>
    <text x="5" y="16" text-anchor="middle" class="og-s" fill="#22c55e">順次実行</text>
    <text x="5" y="42" text-anchor="middle" class="og-s">Component + Tailwind</text>
  </g>

  <!-- Phase 4: Test Layer -->
  <g transform="translate(1130,310)">
    <use href="#blob-c3" fill="#fbcfe8"/>
    <circle cx="-50" cy="-55" r="30" fill="#ec4899"/>
    <text x="-50" y="-40" text-anchor="middle" class="og-num">4</text>
    <text x="5" y="-10" text-anchor="middle" class="og-h">Test Layer</text>
    <text x="5" y="16" text-anchor="middle" class="og-s" fill="#ec4899">並列実行</text>
    <text x="5" y="42" text-anchor="middle" class="og-s">API / Hook / Component</text>
  </g>

  <!-- Hub: TDD Cycle -->
  <g transform="translate(700,610)">
    <use href="#blob-hub" fill="#8b5cf6"/>
    <text x="0" y="-20" text-anchor="middle" class="og-center">TDD Cycle</text>
    <text x="0" y="15" text-anchor="middle" class="og-s" fill="#e2e8f0">Red → Green → Refactor</text>
    <text x="0" y="40" text-anchor="middle" class="og-xs" fill="#c4b5fd">各Phase内で繰り返し実行</text>
  </g>

  <!-- Footer -->
  <g transform="translate(700,755)">
    <rect x="-350" y="-30" width="700" height="60" rx="30" fill="#ffffff"/>
    <text x="0" y="8" text-anchor="middle" class="og-sub">CONTEXT.json progressでFR単位の進捗を自動追跡</text>
  </g>
</svg>