<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 320" font-family="system-ui, sans-serif">
  <defs>
    <marker id="arrow9" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
    <marker id="arrow9r" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
  </defs>
  <rect width="600" height="320" rx="12" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="300" y="30" text-anchor="middle" font-size="16" font-weight="700" fill="#0f172a">TTS フォールバック戦略</text>

  <!-- Level 1 -->
  <rect x="140" y="55" width="320" height="55" rx="10" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
  <text x="300" y="77" text-anchor="middle" font-size="12" font-weight="700" fill="#166534">Level 1: Gemini TTS</text>
  <text x="300" y="97" text-anchor="middle" font-size="10" fill="#475569">gemini-2.5-flash-preview-tts (voice: Kore)</text>

  <!-- Fail arrow -->
  <line x1="300" y1="112" x2="300" y2="138" stroke="#ef4444" stroke-width="1.5" marker-end="url(#arrow9r)"/>
  <text x="340" y="130" font-size="10" fill="#ef4444">セッション内で1度でも失敗</text>

  <!-- Level 2 -->
  <rect x="140" y="140" width="320" height="55" rx="10" fill="#fffbeb" stroke="#f59e0b" stroke-width="2"/>
  <text x="300" y="162" text-anchor="middle" font-size="12" font-weight="700" fill="#92400e">Level 2: ブラウザ SpeechSynthesis</text>
  <text x="300" y="182" text-anchor="middle" font-size="10" fill="#475569">ja-JP / rate: 1.3 / pitch: 1.1</text>

  <!-- Fail arrow -->
  <line x1="300" y1="197" x2="300" y2="223" stroke="#ef4444" stroke-width="1.5" marker-end="url(#arrow9r)"/>
  <text x="340" y="215" font-size="10" fill="#ef4444">SpeechSynthesis 非対応</text>

  <!-- Level 3 -->
  <rect x="140" y="225" width="320" height="55" rx="10" fill="#f1f5f9" stroke="#94a3b8" stroke-width="2"/>
  <text x="300" y="247" text-anchor="middle" font-size="12" font-weight="700" fill="#475569">Level 3: テキストのみ表示</text>
  <text x="300" y="267" text-anchor="middle" font-size="10" fill="#64748b">音声なし — テキスト実況のみ</text>

  <text x="300" y="305" text-anchor="middle" font-size="11" fill="#94a3b8">API失敗でゲームが止まらないよう、常に次の手段を用意</text>
</svg>