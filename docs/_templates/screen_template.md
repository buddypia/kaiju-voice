# スクリーン: {画面名}

> **画面 ID**: SCR-{NNN} | **関連 SPEC**: [SPEC-{NNN}](../SPEC-{NNN}-{name}.md)

---

## 1. 画面情報

| 項目            | 内容                                                |
| --------------- | --------------------------------------------------- |
| **ファイル**    | `src/features/{feature}/components/{Name}Panel.tsx` |
| **Custom Hook** | `src/features/{feature}/hooks/use-{name}.ts`        |
| **ルート**      | `/{route-path}`                                     |

---

## 2. 進入条件

| 条件                 | 必須  | 未充足時 |
| -------------------- | :---: | -------- |
| ログイン             | ⭕/❌ | {動作}   |
| オンボーディング完了 | ⭕/❌ | {動作}   |

---

## 3. レイアウト

```
┌─────────────────────────────────────┐
│            [AppBar]                 │
├─────────────────────────────────────┤
│                                     │
│         [Main Content]              │
│                                     │
│  ┌─────────────────────────────────┐│
│  │     [Section 1]                 ││
│  └─────────────────────────────────┘│
│                                     │
│  ┌─────────────────────────────────┐│
│  │     [Section 2]                 ││
│  └─────────────────────────────────┘│
│                                     │
└─────────────────────────────────────┘
```

---

## 4. UI状態マトリックス

| 状態         | 画面要素                  | ユーザーアクション  |
| ------------ | ------------------------- | ------------------- |
| ローディング | Skeleton/Progress         | -                   |
| 空値         | Empty State               | 再試行/探索         |
| エラー       | エラーメッセージ + 再試行 | 再試行              |
| 正常         | データ表示                | 詳細/次のアクション |

---

## 5. コンポーネント仕様

### 5.1 {コンポーネント名}

| 項目       | 内容                       |
| ---------- | -------------------------- |
| **タイプ** | Card / Button / List / ... |
| **位置**   | 上部 / 中央 / 下部         |

**Props**:

- `{prop1}`: {タイプ} - {説明}
- `{prop2}`: {タイプ} - {説明}

**状態別表示**:
| 状態 | 表示内容 |
|------|----------|
| ローディング | Skeleton UI |
| 成功 | データ表示 |
| 空値 | Empty State |
| エラー | エラーメッセージ + 再試行 |

### 5.2 ボタン状態仕様

> **共通ルール**: [base-ui-theme-guide.md §12.3](../../development/base-ui-theme-guide.md#123-ボタン-状態-共通-ルール) に準拠
> 以下は **この画面の特別ルール**のみ記述

| ボタン ID       | ボタン名       | 有効化条件 | 無効化条件 | ローディング中動作 | 例外/特別ルール      |
| --------------- | -------------- | ---------- | ---------- | ------------------ | -------------------- |
| `btn_primary`   | {CTA ボタン名} | {条件明記} | {条件明記} | スピナー + 無効化  | -                    |
| `btn_secondary` | {補助ボタン名} | {条件明記} | {条件明記} | -                  | -                    |
| `btn_delete`    | 削除           | {条件明記} | {条件明記} | -                  | 確認ダイアログ後実行 |

**状態条件例**:

```typescript
// btn_primary有効化条件
const isEnabled = word.length > 0 && meaning.length > 0 && !state.isLoading;
```

### 5.3 フォーム検証仕様 (フォームがある場合)

> **共通ルール**: [base-ui-theme-guide.md §12.6](../../development/base-ui-theme-guide.md#126-フォーム-検証-共通-ルール) に準拠
> **該当なし**: フォームがない画面は "N/A - フォームなし" 記載

| フィールド ID | フィールド名 | 検証ルール         | 位置 | タイミング      | エラーメッセージ (messages.ts) |
| ------------- | ------------ | ------------------ | :--: | --------------- | ------------------------------ |
| `field_xxx`   | {ラベル}     | 必須, {追加ルール} | C/S  | onBlur/onChange | `error_xxx_required`           |

**位置**: C = Client, S = Server, C+S = 両方

**検証ロジック例**:

```typescript
function validateXxx(value: string | undefined): string | null {
  if (!value || value.length === 0) {
    return messages.error_xxx_required;
  }
  // 追加検証...
  return null;
}
```

### 5.4 空状態仕様

> **共通ルール**: [base-ui-theme-guide.md §12.4](../../development/base-ui-theme-guide.md#124-空-状態-ルール) に準拠

| 空状態タイプ | 条件                            | イラスト | タイトル (messages.ts) | 説明 (messages.ts) | CTA        |
| ------------ | ------------------------------- | :------: | ---------------------- | ------------------ | ---------- |
| データなし   | `items.isEmpty && !hasSearched` |    ✅    | `xxx_empty_title`      | `xxx_empty_desc`   | "追加する" |
| 検索結果なし | `items.isEmpty && hasSearched`  |    ⭕    | `xxx_no_results`       | -                  | ❌         |

### 5.5 権限状態仕様 (権限チェックがある場合)

> **共通ルール**: [base-ui-theme-guide.md §12.5](../../development/base-ui-theme-guide.md#125-権限-状態-ルール-新規) に準拠
> **該当なし**: 権限チェックがない画面は "N/A - 公開画面" 記載

| 権限状態       | 条件                          | UI表示       | CTA              | 復旧経路        |
| -------------- | ----------------------------- | ------------ | ---------------- | --------------- |
| ログイン必要   | `!authState.isLoggedIn`       | ダイアログ   | "ログイン"       | `/login`        |
| プレミアム必要 | `!user.isPremium && featureX` | オーバーレイ | "アップグレード" | `/subscription` |

---

## 6. ユーザーインタラクション

| 要素     | アクション     | 結果                  |
| -------- | -------------- | --------------------- |
| {ボタン} | タップ         | {ナビゲーション/動作} |
| 画面     | 引っ張って更新 | データリロード        |

---

## 7. Event → Custom Hook マッピング

| UIイベント       | Hook メソッド   | 状態変化       | 副作用              |
| ---------------- | --------------- | -------------- | ------------------- |
| {ボタンクリック} | {hook.method()} | Loading → Data | ログ/ナビゲーション |

---

## 8. ナビゲーション

| 項目               | 値              |
| ------------------ | --------------- |
| **進入経路**       | `/{route-path}` |
| **パラメータ**     | {param: type}   |
| **結果返却**       | {result: type}  |
| **ディープリンク** | {あれば}        |

---

## 9. ロジックリファレンス (SSOT)

> 条件/ポリシーの **定義** は SPEC にのみ記載し、ここではリンクで参照する。

- SPEC: [SPEC-{NNN}-{name}.md](../SPEC-{NNN}-{name}.md)
- 参照セクション: {例: §2 機能要件, §3 依存性}

---

## 10. APIタッチポイント (リンクのみ)

- APIドキュメント: [API-{NNN}-{name}.md](../API-{NNN}-{name}.md)
- 使用エンドポイント: {GET /..., POST /...}

---

## 11. FRマッピング (SPEC参照)

> **SSOT原則**: FR↔画面マッピングデータは SPEC §0.1.1 Traceability Matrix で管理。
> ここではこの画面が関与する FR 範囲のみ明記する。

- **関連 FR**: FR-{NNN}01 ~ FR-{NNN}0N
- **Traceability Matrix**: [SPEC-{NNN} §0.1.1](../SPEC-{NNN}-{name}.md#011-traceability-matrix)

---

## 12. AI実装ヒント

**実装順序**:

1. Custom Hook 先に (`src/features/{feature}/hooks/use-{name}.ts`)
2. コンポーネント実装 (`src/features/{feature}/components/{Name}Panel.tsx`)
3. サブコンポーネント分離

**参考コード**:

```typescript
// 類似画面: src/features/{feature}/components/SimilarPanel.tsx
// パターン: useXxx() Custom Hook + React.FC
```

---

## 13. デザインリファレンス (オプション)

> **条件**: `design/` ディレクトリにデザインアセットがある場合のみ記載。なければこのセクション全体を削除する。
> **役割**: 視覚的参考資料。実装の定義(SSOT) はこのスクリーンドキュメントの §3~§8 である。

| 項目                | ファイル            | 備考                    |
| ------------------- | ------------------- | ----------------------- |
| Figma Export (HTML) | `design/code.html`  | Tailwind CSS クラス参照 |
| スクリーンショット  | `design/screen.png` | 視覚確認用              |

**デザイン↔Screen Docの違い** (ある場合記載):

| 項目           | Screen Doc (SSOT) | デザイン (参考) | 判定                     |
| -------------- | ----------------- | --------------- | ------------------------ |
| {例: 認証方式} | {Screen Doc 定義} | {デザイン表現}  | {Screen Doc 基準 — 理由} |

---

<!--
この文書は UI/レイアウトにのみ集中しています。
- 実装ファイル、状態、テストは SPEC.md に記録
- API 契約は API ドキュメントに記録
- ここでは画面構造とインタラクションのみ定義
- デザインアセット(design/)は視覚参考用であり、SSOTはこの文書の本文
-->
