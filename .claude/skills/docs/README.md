# Hackathon Project スキル生態系完全ガイド

> **"51個スキルの単一エントリーポイント"** - AI主導開発のためのスキルシステムハブ

---

## この文書について

この文書はHackathon Projectプロジェクトの**全体スキルシステムを理解するためのハブ(Hub)**です。5分以内にスキルシステムの構造を把握し、必要なスキルを素早く見つけられるよう設計されています。

### 対象読者

| 読者                           | 推奨経路                                                                 |
| ------------------------------ | ------------------------------------------------------------------------ |
| **初めて使用する方**           | この文書 → [スキル選択ガイド](#-スキル選択ガイド)                        |
| **特定作業が必要な方**         | [状況別スキル推奨](#-状況別スキル推奨)                                   |
| **システム全体を理解したい方** | [アーキテクチャ概要](#-アーキテクチャ概要) → [ダイアグラム](./diagrams/) |

---

## スキルシステムとは?

### 一行定義

> **スキルシステム**はAIが特定作業を**体系的かつ一貫して**実行するための**専門化された指針書コレクション**です。

### 比喩で理解する

🏥 **病院の診療科目**のように動作します:

- 内科(feature-pilot): 総合診断後必要な科に連携
- 外科(feature-implementer): 実際の手術(実装)担当
- 検査室(flutter-qa): 各種検査実行
- セキュリティチーム(security-scan): セキュリティ点検担当

### 核心価値

```
┌─────────────────────────────────────────────────────────────┐
│  "どの作業をすべき?" → スキルシステムが最適経路を案内       │
└─────────────────────────────────────────────────────────────┘
```

---

## スキル統計概要

| 項目                            | 数量 | 説明                   |
| ------------------------------- | :--: | ---------------------- |
| **総スキル数**                  | 51個 | プロジェクト専用スキル |
| **Tier 1 (オーケストレーター)** | 4個  | 作業調整担当           |
| **Tier 2 (パイプライン)**       | 13個 | 核心作業実行           |
| **Tier 3 (ユーティリティ)**     | 8個  | 補助機能               |
| **ESP 適用スキル**              | 6個  | 強制プロトコル適用     |

---

## アーキテクチャ概要

### スキル階層構造

```
┌─────────────────────────────────────────────────────────────────┐
│                        ユーザーリクエスト                        │
│  "新機能を作って" / "バグ修正して" / "セキュリティ検査して"      │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Tier 1: オーケストレーター                    │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────────────────┐ │
│  │feature-pilot │ │ turbo-mode   │ │ market-intelligence-     │ │
│  │(開発総括)     │ │ (並列実行)   │ │ scanner (市場分析)       │ │
│  └──────────────┘ └──────────────┘ └──────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                              │
          ┌───────────────────┼───────────────────┐
          ▼                   ▼                   ▼
┌─────────────────┐ ┌─────────────────┐ ┌─────────────────────────┐
│ Tier 2: 設計    │ │ Tier 2: 実装    │ │ Tier 2: 検証            │
│ ┌─────────────┐ │ │ ┌─────────────┐ │ │ ┌─────────────────────┐ │
│ │architect    │ │ │ │implementer │ │ │ │flutter-qa           │ │
│ │spec-gen     │ │ │ │wiring      │ │ │ │security-scan        │ │
│ │spec-updater │ │ │ │bug-fix     │ │ │ │pre-quality-gate     │ │
│ │ui-approval  │ │ │ │status-sync │ │ │ │persistent-mode      │ │
│ └─────────────┘ │ │ └─────────────┘ │ │ └─────────────────────┘ │
└─────────────────┘ └─────────────────┘ └─────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Tier 3: ユーティリティ                        │
│  migration-sync, hardcoded-scan, test-coverage-check,            │
│  edge-function-validator, supabase-sync, glossary-updater, ...  │
└─────────────────────────────────────────────────────────────────┘
```

### 核心パイプラインフロー

```
新機能リクエスト
     │
     ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  architect  │ →  │  spec-gen   │ →  │ ui-approval │
│ (分析/計画) │    │ (仕様生成)  │    │ (UI 承認)   │
└─────────────┘    └─────────────┘    └─────────────┘
                                             │
     ┌───────────────────────────────────────┘
     ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ implementer │ →  │   wiring    │ →  │ status-sync │
│ (TDD 実装)  │    │ (アプリ連動)│    │ (状態同期)  │
└─────────────┘    └─────────────┘    └─────────────┘
                          │
                          ▼
              ┌───────────────────────┐
              │   flutter-qa 検証     │
              │ + security-scan (任意)│
              └───────────────────────┘
```

> 📊 詳細ダイアグラム: [全体アーキテクチャ](./diagrams/skill-ecosystem.mmd)

---

## スキルカテゴリ別分類

### Tier 1: オーケストレーター (4個)

> **役割**: ユーザーリクエストを受けて適切な下位スキルを調整

| スキル                                                                     | 役割                                             | ESP | トリガーキーワード           |
| -------------------------------------------------------------------------- | ------------------------------------------------ | :-: | ---------------------------- |
| **[feature-pilot](../feature-pilot/SKILL.md)**                             | すべての開発リクエストの最上位エントリーポイント | ✅  | "新機能", "実装して", "開発" |
| **[turbo-mode](../turbo-mode/SKILL.md)**                                   | 並列実行エンジン                                 | ✅  | "ターボ", "速く", "並列で"   |
| **[market-intelligence-scanner](../market-intelligence-scanner/SKILL.md)** | 市場分析基盤の機能候補生成                       |  -  | "競合分析", "機能ギャップ"   |
| **[research-gap-analyzer](../research-gap-analyzer/SKILL.md)**             | リサーチギャップ分析                             |  -  | "リサーチギャップ", "分析"   |

### Tier 2: 開発パイプライン (13個)

> **役割**: 実際の開発作業を実行

#### 設計段階

| スキル                                                           | 役割                      | 独立使用 |
| ---------------------------------------------------------------- | ------------------------- | :------: |
| **[feature-architect](../feature-architect/SKILL.md)**           | CONTEXT.json 生成         |    ✅    |
| **[feature-spec-generator](../feature-spec-generator/SKILL.md)** | SPEC.md + Screen 文書生成 |    ✅    |
| **[feature-spec-updater](../feature-spec-updater/SKILL.md)**     | 既存 SPEC 修正            |    ✅    |
| **[ui-approval-gate](../ui-approval-gate/SKILL.md)**             | UI ワイヤーフレーム承認   |    ✅    |
| **[priority-analyzer](../priority-analyzer/SKILL.md)**           | WSJF Lite 優先順位分析    |    ✅    |

#### 実装段階

| スキル                                                     | 役割                      | 独立使用 |
| ---------------------------------------------------------- | ------------------------- | :------: |
| **[feature-implementer](../feature-implementer/SKILL.md)** | TDD ベースコード実装      |    ✅    |
| **[feature-wiring](../feature-wiring/SKILL.md)**           | データ/ナビゲーション連動 |    ✅    |
| **[feature-status-sync](../feature-status-sync/SKILL.md)** | 状態同期                  |    ✅    |
| **[bug-fix](../bug-fix/SKILL.md)**                         | バグ分析および修正        |    ✅    |

#### 検証段階

| スキル                                               | 役割                  | ESP |
| ---------------------------------------------------- | --------------------- | :-: |
| **[pre-quality-gate](../pre-quality-gate/SKILL.md)** | Makefile q.check 実行 |  -  |
| **[spec-validator](../spec-validator/SKILL.md)**     | SPEC 文書検証         |  -  |

#### マイグレーション

| スキル                                               | 役割                          |
| ---------------------------------------------------- | ----------------------------- |
| **[legacy-migration](../legacy-migration/SKILL.md)** | PRD/FRD → CONTEXT.json 変換   |
| **[migration-sync](../migration-sync/SKILL.md)**     | Supabase マイグレーション同期 |

### Tier 3: 品質/ユーティリティ (8個)

> **役割**: 品質検証および補助機能

#### 品質検証

| スキル                                                   | 役割                       | ESP | トリガー                  |
| -------------------------------------------------------- | -------------------------- | :-: | ------------------------- |
| **[flutter-qa](../flutter-qa/SKILL.md)**                 | ビルド→分析→テストサイクル | ✅  | "QA", "テスト実行"        |
| **[security-scan](../security-scan/SKILL.md)**           | セキュリティ脆弱性検査     | ✅  | "セキュリティ検査", "RLS" |
| **[persistent-mode](../persistent-mode/SKILL.md)**       | 完了まで自動継続           | ✅  | "最後まで", "止めないで"  |
| **[skill-health-check](../skill-health-check/SKILL.md)** | スキルガバナンス監査       | ✅  | "ヘルスチェック", "監査"  |

#### コードスキャン

| スキル                                                           | 役割                             | 対象              |
| ---------------------------------------------------------------- | -------------------------------- | ----------------- |
| **[hardcoded-scan](../hardcoded-scan/SKILL.md)**                 | ハードコーディング統合スキャン   | テキスト + テーマ |
| **[hardcoded-text-finder](../hardcoded-text-finder/SKILL.md)**   | UIテキストハードコーディング検知 | テキスト          |
| **[hardcoded-color-finder](../hardcoded-color-finder/SKILL.md)** | 色ハードコーディング検知         | テーマ            |
| **[test-coverage-check](../test-coverage-check/SKILL.md)**       | テストファイル存在確認           | テスト            |

### ドメイン/ユーティリティスキル (26個)

> **役割**: 特定ドメイン作業を実行

#### 文書管理

| スキル                                                 | 役割                 |
| ------------------------------------------------------ | -------------------- |
| **[glossary-updater](../glossary-updater/SKILL.md)**   | 用語集同期           |
| **[sync-claude-md](../sync-claude-md/SKILL.md)**       | CLAUDE.md 更新       |
| **[wireframe-manager](../wireframe-manager/SKILL.md)** | ワイヤーフレーム生成 |

#### バックエンド管理

| スキル                                                             | 役割                       |
| ------------------------------------------------------------------ | -------------------------- |
| **[supabase-sync](../supabase-sync/SKILL.md)**                     | Supabase スキーマ/関数同期 |
| **[edge-function-validator](../edge-function-validator/SKILL.md)** | Edge Function コード検証   |

#### AI/リサーチ

| スキル                                                       | 役割                         |
| ------------------------------------------------------------ | ---------------------------- |
| **[gemini](../gemini/SKILL.md)**                             | Gemini CLI テキスト/画像生成 |
| **[google-deep-research](../google-deep-research/SKILL.md)** | Google Gemini Deep Research  |
| **[openai-deep-research](../openai-deep-research/SKILL.md)** | OpenAI Deep Research         |

#### 復旧/診断

| スキル                                           | 役割                  |
| ------------------------------------------------ | --------------------- |
| **[feature-doctor](../feature-doctor/SKILL.md)** | CONTEXT.json 自動復旧 |

---

## 状況別スキル推奨

### "新機能を作りたいです"

```
📌 推奨: feature-pilot

使用方法:
1. "単語帳機能を作って" と言えば
2. feature-pilotが自動で:
   - architect → spec-gen → ui-approval → implementer → wiring → sync
   パイプライン実行
```

### "バグを修正する必要があります"

```
📌 推奨: bug-fix (または feature-pilot)

使用方法:
1. "TTSが出ない" と言えば
2. bug-fixが自動で:
   - 再現 → 原因分析 → 修正 → 回帰テスト
   を実行
```

### "コード品質を検査したいです"

```
📌 推奨: flutter-qa

使用方法:
1. "/flutter-qa" または "QA 実行して"
2. ビルド → 分析 → テストサイクル自動反復
3. 問題発見時自動修正を試行
```

### "セキュリティ点検が必要です"

```
📌 推奨: security-scan

使用方法:
1. "/security-scan" または "セキュリティ検査して"
2. RLS, シークレット, Edge Function セキュリティ自動検査
3. CRITICAL/HIGH 発見時デプロイ遮断
```

### "作業を速くしたいです"

```
📌 推奨: turbo-mode

使用方法:
1. "ターボで分析して"
2. 独立的な作業を並列実行
3. 60-70% 時間削減
```

### "テスト通過するまで自動でやって"

```
📌 推奨: persistent-mode

使用方法:
1. "最後までこの機能完成して"
2. 検証通過まで自動反復 (最大 5回)
3. 同一エラー 3回で早期中断 + 診断
```

---

## スキル選択ガイド

### 意思決定ツリー

```
作業タイプは何ですか?
│
├─ 新機能開発 ────────────→ feature-pilot
│
├─ 既存機能修正 ──────────→ feature-pilot (MODIFY_FEATURE)
│                             または feature-spec-updater (SPECのみ)
│
├─ バグ修正 ───────────────→ bug-fix
│
├─ 品質検証 ───────────────┬→ flutter-qa (ビルド/分析/テスト)
│                           └→ security-scan (セキュリティ)
│
├─ 文書作業 ───────────────┬→ glossary-updater (用語集)
│                           ├→ sync-claude-md (CLAUDE.md)
│                           └→ wireframe-manager (ワイヤーフレーム)
│
├─ バックエンド ──────────────┬→ supabase-sync (スキーマ)
│                           ├→ edge-function-validator (関数検証)
│                           └→ migration-sync (マイグレーション)
│
└─ リサーチ ──────────────────┬→ google-deep-research
                            └→ openai-deep-research
```

### スキル組み合わせパターン

| 状況                       | 組み合わせ                   | 効果                        |
| -------------------------- | ---------------------------- | --------------------------- |
| **高速機能開発**           | turbo-mode + feature-pilot   | 並列分析で時間短縮          |
| **完璧な品質保証**         | persistent-mode + flutter-qa | 通過まで自動反復            |
| **デプロイ前検証**         | security-scan → flutter-qa   | セキュリティ + 品質同時検証 |
| **ハードコーディング整理** | hardcoded-scan               | テキスト + 色統合スキャン   |

---

## ESP (Enforced Skill Pattern)

### ESPとは?

> **ESP**は特定スキルの**実行品質を保証**するための強制プロトコルです。

ESP 適用スキルは以下を**必ず**実行します:

1. **Pre-flight Checklist**: 実行前条件確認
2. **Post-flight Checklist**: 完了前結果検証
3. **Model Routing**: 作業複雑度に応じたモデル選択
4. **Evidence Caching**: 検証結果キャッシング

### ESP 適用スキル (6個)

| スキル             | ESP バージョン | 主要チェック項目                 |
| ------------------ | :------------: | -------------------------------- |
| feature-pilot      |      v2.0      | 作業タイプ判別、パイプライン構成 |
| turbo-mode         |      v3.0      | 依存関係分析、バッチ構成         |
| persistent-mode    |      v3.0      | 完了条件、反復回数               |
| flutter-qa         |      v3.1      | SDK 確認、目標タイプ             |
| security-scan      |      v2.1      | 検査対象、Critical/High 確認     |
| skill-health-check |      v2.1      | ガバナンスルール遵守             |

### ESP プロトコルフロー

```
┌─────────────────────────────────────────────────────────────┐
│                    ESP 実行プロトコル                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────┐                                   │
│  │ Pre-flight Checklist │ ← 実行前必須出力                  │
│  │ (条件確認)           │                                   │
│  └──────────┬──────────┘                                   │
│             │ すべて ✅                                     │
│             ▼                                               │
│  ┌─────────────────────┐                                   │
│  │   Model Routing     │ ← Task別適切なモデル選択           │
│  │ (haiku/sonnet/opus) │                                   │
│  └──────────┬──────────┘                                   │
│             │                                               │
│             ▼                                               │
│  ┌─────────────────────┐                                   │
│  │   作業実行           │                                   │
│  │ (Evidence キャッシュ活用) │                               │
│  └──────────┬──────────┘                                   │
│             │                                               │
│             ▼                                               │
│  ┌─────────────────────┐                                   │
│  │Post-flight Checklist│ ← 完了前必須出力                  │
│  │ (結果検証)           │                                   │
│  └─────────────────────┘                                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

> 📋 詳細: [ESP プロトコルガイド](./esp-protocol-guide.md)

---

## Model Routing ガイド

### モデル選択基準

| 作業タイプ                 |   モデル   | コスト | 根拠               |
| -------------------------- | :--------: | :----: | ------------------ |
| ファイル検索、パターン探索 | **haiku**  |   $    | 単純マッチング     |
| pubspec.yaml 読み取り      | **haiku**  |   $    | パースのみ必要     |
| Freezed Model 生成         | **sonnet** |   $$   | テンプレートベース |
| ViewModel 実装             | **sonnet** |   $$   | パターン理解必要   |
| アーキテクチャ決定         |  **opus**  |  $$$   | トレードオフ分析   |
| バグ根本原因               |  **opus**  |  $$$   | 深い推論           |

### フォールバック戦略

```
haiku 失敗 → sonnet 自動昇格
sonnet 失敗 → opus 自動昇格
```

---

## Evidence Caching

### キャッシュ有効時間

| 検証タイプ      | 有効時間 | 無効化条件                            |
| --------------- | :------: | ------------------------------------- |
| flutter analyze |   30分   | `lib/**/*.dart` 変更                  |
| flutter test    |   30分   | `test/**/*.dart` 変更                 |
| security-scan   |   60分   | `infra/**`, `.env*` 変更              |
| build_runner    | 生成まで | `.freezed.dart`, `.g.dart` ソース変更 |

### キャッシュ動作

```
1. 検証要求時 CONTEXT.json > evidence_cache 確認
2. 有効なキャッシュ存在 → スキップ + "[CACHE HIT]" メッセージ
3. キャッシュなし/期限切れ → 実行 + 結果キャッシング
```

---

## よくある質問

### Q: どのスキルから使えばいいですか?

**A**: **feature-pilot**から始めてください。feature-pilotが作業タイプを自動判別し、適切な下位スキルを調整します。

### Q: スキルを直接呼び出してもいいですか?

**A**: はい、すべてのスキルは**独立使用可能**です。ただし複雑な作業はfeature-pilotを通じて調整することが推奨されます。

### Q: ESP スキルと一般スキルの違いは?

**A**: ESP スキルは**Pre/Post-flight Checklistを必ず出力**しなければならず、違反時は即時中断されます。より厳格な品質管理が適用されます。

### Q: turbo-modeとpersistent-modeを一緒に使えますか?

**A**: はい、**最高の組み合わせ**です。turbo-modeで並列実行 + persistent-modeで完了まで反復 = 最大効率。

---

## 文書ナビゲーション

### ダイアグラム

| ダイアグラム                                                  | 内容                     |
| ------------------------------------------------------------- | ------------------------ |
| [skill-ecosystem.mmd](./diagrams/skill-ecosystem.mmd)         | 全体スキル生態系         |
| [skill-decision-tree.mmd](./diagrams/skill-decision-tree.mmd) | スキル選択意思決定ツリー |
| [dev-pipeline.mmd](./diagrams/dev-pipeline.mmd)               | 開発パイプライン詳細     |
| [quality-flow.mmd](./diagrams/quality-flow.mmd)               | 品質検証フロー           |

### 関連文書

| 文書                                                  | 内容                     |
| ----------------------------------------------------- | ------------------------ |
| [ESP プロトコルガイド](./esp-protocol-guide.md)       | ESP 詳細説明             |
| [feature-pilot 文書](../feature-pilot/docs/README.md) | feature-pilot 完全ガイド |
| [CLAUDE.md](/CLAUDE.md)                               | プロジェクト全体指針     |

---

## バージョン情報

| 項目               | 値           |
| ------------------ | ------------ |
| **文書バージョン** | 1.0.0        |
| **スキル数**       | 51個         |
| **最終更新**       | 2026-02-04   |
| **作成者**         | AI Assistant |

---

## 次のステップ

1. **特定作業がある場合**: [状況別スキル推奨](#-状況別スキル推奨) を確認
2. **システムをもっと理解したい場合**: [ダイアグラム](./diagrams/) を確認
3. **すぐ使いたい場合**: "feature-pilot" または作業キーワードを入力

```
┌────────────────────────────────────────────────────────────────┐
│  💬 "単語帳機能を作って"                                        │
│                                                                │
│  → スキルシステムが自動で最適の経路を実行します!               │
└────────────────────────────────────────────────────────────────┘
```
